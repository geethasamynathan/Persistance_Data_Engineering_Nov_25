
![alt text](image-18.png)

IAM policy 
demo-user-codepipeline
![alt text](image-19.png)
![alt text](image-24.png)
 in the IAM User 
 ->Security credentials
- HTTPS Git credentials for AWS CodeCommit 
- ![alt text](image-20.png)


open another console ->code commit
Create Repository
SampleWebApp
![alt text](image-21.png)

After creating Repository 
in local machine create a folder in desired location (sample)

goto code commit samplewebapp 
- click clone URL
- git clone https://git-codecommit.ap-south-1.amazonaws.com/v1/repos/SampleWebApp


open cmd prompt->C:\Personal\Revature\AWS CICD\Sample>

C:\Personal\Revature\AWS CICD\Sample>git clone https://git-codecommit.ap-south-1.amazonaws.com/v1/repos/SampleWebApp


![alt text](image-22.png)

![alt text](image-23.png)

![alt text](image-25.png)

![alt text](image-26.png)

Launch EC2 instance


amazon linux

![alt text](image-27.png)

t2.micro

Advanced option ->user data
user data to crreate instance(EC2)

```sh
#!/bin/bash
yum update -y
yum install -y ruby
yum install -y aws-cli
cd /home/ec2-user
aws s3 cp s3://aws-codedeploy-ap-south-1/latest/install .
chmod +x ./install
./install auto

```

![alt text](image-28.png)

After instance created

goto CodeDeploy  in aws console
![alt text](image-29.png)
![alt text](image-30.png)


## create service Role
goto IAM -> Roles- > create Role
![alt text](image-36.png)


permission

AWSCodeDeployRoleForECS

Role name :codedeploye-role

create role

## Create deployment group
![alt text](image-31.png)
![alt text](image-37.png)
![alt text](image-32.png)
![alt text](image-33.png)
![alt text](image-34.png)
![alt text](image-35.png)


# create pipeline
![alt text](image-38.png)
![alt text](image-39.png)
![alt text](image-40.png)
![alt text](image-41.png)
![alt text](image-42.png)
![alt text](image-43.png)
Code deploy

![alt text](image-44.png)
![alt text](image-45.png)
![alt text](image-46.png)

![alt text](image-47.png)